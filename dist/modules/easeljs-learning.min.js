/*! SpringRoll 0.3.27 */
!function(){"use strict";!function(a){var b=include("springroll.Application"),c=function(c,d){if(this.target=c,c.name===a)throw"DwellTimer object target needs a name";this.timer=c.id+"_dwell",this.learning=d||b.instance.learning,c.__dwellTimer=this,this.mouseOver=this.mouseOver.bind(this),this.mouseOut=this.mouseOut.bind(this),c.addEventListener("mouseover",this.mouseOver)},d=c.prototype;d.mouseOver=function(b){var c=this.target;(c.enabled===a||c.enabled)&&(c.hasEventListener("mousedown")||c.hasEventListener("click")||c.hasEventListener("mouseup")||c.hasEventListener("pressup"))&&(this.learning&&this.learning.startTimer(this.timer),c.addEventListener("mousedown",this.mouseOut),c.addEventListener("mouseout",this.mouseOut))},d.mouseOut=function(a){var b=this.target;b.removeEventListener("mousedown",this.mouseOut),b.removeEventListener("mouseout",this.mouseOut);var c;this.learning&&(c=this.learning.stopTimer(this.timer))>=1e3&&this.learning.dwellTime(c,b.name)},d.destroy=function(){var a=this.target;a.removeEventListener("mouseover",this.mouseOver),a.removeEventListener("mousedown",this.mouseOut),a.removeEventListener("mouseout",this.mouseOut),this.learning&&(this.learning.removeTimer(this.timer),this.learning=null),this.target=this.timer=null,this.mouseOver=this.mouseOut=null},c.create=function(a){c.destroy(a),new c(a)},c.destroy=function(a){a.__dwellTimer&&(a.__dwellTimer.destroy(),delete a.__dwellTimer)},namespace("springroll.easeljs").DwellTimer=c}(),function(){var a,b=include("springroll.ApplicationPlugin"),c=include("createjs.Point"),d=new b,e=new c,f=new c;d.setup=function(){a||(a=include("springroll.Debug",!1)),this.offClickParams=[],this._lastPointerID=null,this.normalizePosition=function(a,b,c){if(a.hasOwnProperty("x")&&(c=b||a.parent,b=a.y,a=a.x),c&&c.localToGlobal){var d=c.localToGlobal(a,b,f);a=d.x,b=d.y}var e=this.display;return{x:0|a,y:0|b,stage_width:e.width,stage_height:e.height}},this.currentPosition=function(){return this.normalizePosition(e)}},d.preload=function(a){if(!this.learning)throw"No learning";var b=this.display;if(b){var c=b.stage;c&&(h=h.bind(this),g=g.bind(this),c.addEventListener("stagemousedown",h),c.addEventListener("stagemousemove",g))}a()};var g=function(a){a.pointerID===this._lastPointerID&&(e.x=a.stageX,e.y=a.stageY)},h=function(a){this._lastPointerID=a.pointerID;var b=a.target,c=b._getObjectsUnderPoint(a.stageX,a.stageY,null,!0),d=!1;if(c)for(;c&&c!=b;){if(c.hasEventListener("mousedown")||c.hasEventListener("click")){d=!0;break}c=c.parent}if(!d){var e=this.offClickParams.slice(0);e.unshift(this.normalizePosition(a.stageX,a.stageY)),this.learning.offClick&&this.learning.offClick.apply(this,e)}};d.teardown=function(){var a=this.display;if(a&&a.stage){var b=a.stage;b&&(b.removeEventListener("stagemousedown",h),b.removeEventListener("stagemousemove",g))}this.offClickParams=null}}();}();